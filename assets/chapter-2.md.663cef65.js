import{_ as s,c as e,o as a,a as n}from"./app.94484780.js";const F=JSON.parse('{"title":"Chapitre 2 - Les premiers pas","description":"","frontmatter":{},"headers":[{"level":2,"title":"Se rendre sur playwright dev","slug":"se-rendre-sur-playwright-dev"},{"level":2,"title":"Screenshot","slug":"screenshot"},{"level":2,"title":"Multi-navigateur","slug":"multi-navigateur"}],"relativePath":"chapter-2.md"}'),l={name:"chapter-2.md"},o=n(`<h1 id="chapitre-2-les-premiers-pas" tabindex="-1">Chapitre 2 - Les premiers pas <a class="header-anchor" href="#chapitre-2-les-premiers-pas" aria-hidden="true">#</a></h1><h2 id="se-rendre-sur-playwright-dev" tabindex="-1">Se rendre sur playwright dev <a class="header-anchor" href="#se-rendre-sur-playwright-dev" aria-hidden="true">#</a></h2><ul><li><p>Cr\xE9er un fichier dans <code>src/index.js</code>.</p></li><li><p>Dans ce fichier, importer playwright et dans une fonction auto-appelante (IIFE), lancer un chromium et stocker l&#39;instance dans une variable <code>browser</code></p></li></ul><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#A6ACCD;">(</span><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">browser</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">undefined;</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// TODO insert your code here</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><ul><li><p>\xC0 partir de ce <code>browser</code>, cr\xE9er une nouvelle page et la stocker dans une variable <code>page</code>.</p></li><li><p>Faire naviguer votre page sur <code>https://playwright.dev/</code>.</p></li><li><p>Afficher dans le terminal, la valeur du <code>title</code> de cette page.</p></li></ul><blockquote><p>\u26A0\uFE0F Pensez \xE0 fermer vos pages et vos navigateurs, pour que le programme se termine.</p></blockquote><ul><li>Lancer votre navigateur sans mode headless.</li></ul><h2 id="screenshot" tabindex="-1">Screenshot <a class="header-anchor" href="#screenshot" aria-hidden="true">#</a></h2><ul><li>Faire un <a href="https://playwright.dev/docs/screenshots" target="_blank" rel="noreferrer">screenshot</a> de la page lorsqu&#39;elle est charg\xE9e dans <code>screenshots/homepage.png</code>.</li></ul><h2 id="multi-navigateur" tabindex="-1">Multi-navigateur <a class="header-anchor" href="#multi-navigateur" aria-hidden="true">#</a></h2><blockquote><p>La puissance de playwright r\xE9side dans le support de nombreux navigateurs.</p></blockquote><ul><li><p>Modifier votre programme pour qu&#39;il ex\xE9cute ce code \xE9galement avec firefox et/ou webkit.</p></li><li><p>\xC9muler un navigateur mobile pr\xE9-configur\xE9 avec <code>playwright.devices</code></p></li></ul><div class="language-javascript"><button class="copy"></button><span class="lang">javascript</span><pre><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> chromium</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> devices </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">require</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">playwright</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> browser </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> chromium</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">launch</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> pixel2 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> devices[</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">Pixel 2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> context </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> browser</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">newContext</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;">pixel2</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">isMobile</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u2139\uFE0F Playwright vient d&#39;annoncer le support d&#39;<a href="https://playwright.dev/docs/api/class-android/" target="_blank" rel="noreferrer">Android</a> et d&#39;<a href="https://playwright.dev/docs/api/class-electron" target="_blank" rel="noreferrer">Electron</a>.</p></blockquote><blockquote><p>\u26A0\uFE0F Les <code>devices</code> d\xE9finissent une propri\xE9t\xE9 <code>isMobile</code> qui n&#39;est pas compatible avec <code>firefox</code>.</p></blockquote>`,15),p=[o];function r(t,c,i,d,y,D){return a(),e("div",null,p)}var A=s(l,[["render",r]]);export{F as __pageData,A as default};
